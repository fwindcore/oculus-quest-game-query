(function(e){function t(t){for(var r,i,u=t[0],c=t[1],s=t[2],f=0,d=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/oculus-quest-store-list/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3af8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("5852");var r=n("d961"),a=(n("66cf"),n("343b")),o=(n("5f1a"),n("a3e2")),i=(n("9cb7"),n("66fd")),u=(n("66b9"),n("b650")),c=(n("2994"),n("2bdd")),s=(n("4056"),n("44bf")),l=(n("81e6"),n("9ffb")),f=(n("4d48"),n("d1e1")),d=(n("a909"),n("3acc")),p=(n("3c32"),n("417e")),v=(n("0653"),n("34e9")),h=(n("c194"),n("7744")),_=(n("bda7"),n("5e46")),b=(n("da3c"),n("0b33")),m=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"text-align":"center"}},[e._v("Oculus Quest 游戏查询")]),n("square")],1)},g=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),n("van-row",{attrs:{type:"flex",justify:"center",gutter:"20"}},[n("van-checkbox",{attrs:{name:"free"},model:{value:e.isFree,callback:function(t){e.isFree=t},expression:"isFree"}},[e._v("免费")]),n("van-checkbox",{attrs:{name:"discount"},model:{value:e.isDiscount,callback:function(t){e.isDiscount=t},expression:"isDiscount"}},[e._v("打折")])],1)],1),n("van-list",e._l(e.showData,(function(e){return n("div",{key:e.node.id},[n("Card",{attrs:{nodeData:e.node}})],1)})),0)],1)},k=[],w=(n("4de4"),n("c975"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("van-card",{attrs:{"thumb-link":e.cardClickLink,price:e.getPrice(e.nodeData.current_offer.price.offset_amount),desc:e.relaceData,title:e.nodeData.display_name,thumb:e.getCoverUrl(e.nodeData.id),"origin-price":e.originPrice,"lazy-load":!1},on:{click:e.onCardClicked},scopedSlots:e._u([{key:"tags",fn:function(){return[e.isFree?n("van-tag",{attrs:{plain:"",type:"success"}},[e._v("免费")]):e._e(),e.isDiscount?n("van-tag",{attrs:{plain:"",type:"danger"}},[e._v("打折")]):e._e()]},proxy:!0},{key:"num",fn:function(){return[e.isDiscount?n("van-tag",{attrs:{type:"danger"}},[[n("div",{staticStyle:{"text-align":"center"}},[n("div",[e._v(e._s(e.nodeData.current_offer.promo_benefit))]),n("div",{staticStyle:{"font-size":"0.5rem"}},[e._v(" "+e._s(e.timeRemain(e.nodeData.current_offer.end_time))+" ")])])]],2):e._e()]},proxy:!0}])})],1)}),x=[],O=(n("b680"),n("5a0c")),j=n.n(O),C={props:{nodeData:{type:Object}},computed:{cardClickLink:function(){return"https://www.oculus.com/experiences/quest/".concat(this.nodeData.id,"/")},isDiscount:function(){return!!this.nodeData.current_offer.promo_benefit},isFree:function(){return"0"==this.nodeData.current_offer.price.offset_amount},tag:function(){return this.isDiscount?"打折":this.isFree?"免费":null},relaceData:function(){return"发售日期：".concat(this.getDate(this.nodeData.release_date))},originPrice:function(){return this.isDiscount?this.getPrice(this.nodeData.current_offer.strikethrough_price.offset_amount):null}},methods:{getCoverUrl:function(e){return"./cover/".concat(e,"/square.jpg")},getPrice:function(e){var t=6.53;return"0"==e?null:(e*t/100).toFixed(2)},getDate:function(e){return j.a.unix(e).format("YYYY-MM-DD")},timeRemain:function(e){j.a.locale("zh-cn");var t=n("4208");j.a.extend(t);var r=j.a.unix(e);return r.fromNow(!0)},onCardClicked:function(){window.open(this.cardClickLink)}}},P=C,S=(n("91e9"),n("2877")),F=Object(S["a"])(P,w,x,!1,null,null,null),q=F.exports,M=n("bc3a"),L=n.n(M);function $(){return L.a.get("./oculus-quest-store.json")}var T={name:"App",components:{Card:q},data:function(){return{allData:[],filterType:[],keywords:"",isFree:!1,isDiscount:!1}},computed:{showData:function(){var e=this;return this.allData.filter((function(t){if(e.isDiscount&&!t.node.current_offer.promo_benefit)return!1;if(e.isFree&&"$0.00"!==t.node.current_offer.price.formatted)return!1;var n=t.node.display_name.toLowerCase();return-1!=n.indexOf(e.keywords.toLowerCase())}))}},created:function(){var e=this;$().then((function(t){console.log("get store data",t),e.allData=t.data.data.node.all_items.edges}))}},Y=T,z=Object(S["a"])(Y,D,k,!1,null,null,null),E=z.exports,J={components:{Square:E}},R=J,U=Object(S["a"])(R,y,g,!1,null,null,null),A=U.exports;m["a"].config.productionTip=!1,m["a"].use(b["a"]),m["a"].use(_["a"]),m["a"].use(h["a"]),m["a"].use(v["a"]),m["a"].use(p["a"]),m["a"].use(d["a"]),m["a"].use(f["a"]),m["a"].use(l["a"]),m["a"].use(s["a"]),m["a"].use(c["a"]),m["a"].use(u["a"]),m["a"].use(i["a"]),m["a"].use(o["a"]),m["a"].use(a["a"]),m["a"].use(r["a"]),new m["a"]({render:function(e){return e(A)}}).$mount("#app")},"91e9":function(e,t,n){"use strict";n("3af8")}});